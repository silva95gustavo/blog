<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/blog/assets/css/style.css">
<title>How I hacked the website of CDUP, the Sports Center of the University of Porto</title>
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>How I hacked the website of CDUP, the Sports Center of the University of Porto | Gustavo Silva’s Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="How I hacked the website of CDUP, the Sports Center of the University of Porto" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="My personal blog." />
<meta property="og:description" content="My personal blog." />
<link rel="canonical" href="//blog/2017/07/03/How-I-hacked-the-website-of-CDUP-the-Sports-Center-of-the-University-of-Porto.html" />
<meta property="og:url" content="//blog/2017/07/03/How-I-hacked-the-website-of-CDUP-the-Sports-Center-of-the-University-of-Porto.html" />
<meta property="og:site_name" content="Gustavo Silva’s Blog" />
<meta property="og:image" content="https://user-images.githubusercontent.com/3010353/42350572-00563f06-80a9-11e8-8d94-9fa69d82b758.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-07-03T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"//blog/2017/07/03/How-I-hacked-the-website-of-CDUP-the-Sports-Center-of-the-University-of-Porto.html","headline":"How I hacked the website of CDUP, the Sports Center of the University of Porto","dateModified":"2017-07-03T00:00:00+01:00","datePublished":"2017-07-03T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"//blog/2017/07/03/How-I-hacked-the-website-of-CDUP-the-Sports-Center-of-the-University-of-Porto.html"},"image":"https://user-images.githubusercontent.com/3010353/42350572-00563f06-80a9-11e8-8d94-9fa69d82b758.png","description":"My personal blog.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
</head>

<body>
  <main class="container">
    <section class="about">
      <a href="/"><img src="/blog/assets/portfolio.png" alt="Gustavo Silva"></a>
      <h2 id="title">
        <a href="/">Gustavo Silva</a>
      </h2>
      <p class="tagline">Software Engineer</p>
      <ul class="social"><a href="https://github.com/silva95gustavo">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/silva95gustavo">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><a href="https://twitter.com/silva95gustavo">
          <li>
            <i class="icon-twitter-squared"></i>
          </li>
        </a></ul><nav class="navigation">
        <ul>
          
          <li>
            <a href="/">Home</a>
          </li>
          
          <li>
            <a href="/blog">Blog</a>
          </li>
          
        </ul>
      </nav><p>&copy;
        2020</p></section>
    <section class="content">
      <div class="post-container">
  <a class="post-link" href="/blog/2017/07/03/How-I-hacked-the-website-of-CDUP-the-Sports-Center-of-the-University-of-Porto.html">
    <h2 class="post-title">How I hacked the website of CDUP, the Sports Center of the University of Porto</h2>
  </a>
  <div class="post-meta">
    <div class="post-date"><i class="icon-calendar"></i>Jul 3, 2017</div></div>
  <div class="post">
    <div class="paragraph">
<p>While checking the gym prices at CDUP, my friend <a href="http://diogomoura.me">Diogo Moura</a> noticed something unusual: a small square on the bottom-left corner that when clicked would display a bar sticking to the bottom of the screen.
I didn&#8217;t capture a screenshot so I recreated the page in Photoshop:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://user-images.githubusercontent.com/3010353/42350758-be761614-80a9-11e8-901c-5e379a5d8e39.png" alt="Homepage">
</div>
<div class="title">Figure 1. Homepage</div>
</div>
<div class="paragraph">
<p>Diogo is a good guy so he stopped there.</p>
</div>
<div class="paragraph">
<p>I started investigating that bar and noticed it was the <a href="http://phpdebugbar.com/">PHP Debug Bar</a>, useful for debugging purposes during development. It contains some tabs with multiple information about everything that happens in the website. One of the features it provides is a list of the latest HTTP requests made by every user on the website:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://user-images.githubusercontent.com/3010353/42350574-00b2783e-80a9-11e8-82a1-94794205a59f.png" alt="Request list">
</div>
<div class="title">Figure 2. Request list</div>
</div>
<div class="paragraph">
<p>Obviously, this is a big security issue, since I could trace the actions in the website of whoever I wanted. Some of the entries in that list had the text "/login" in the URL field and "POST" in the method field, meaning that they were related to submissions of the administrator login form. By clicking that entry I was able to see all details of that specific request, including the username and the plaintext password that were sent in the body of the request:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
   "_token":"YVOzlSSYcaEEkPF24AVNke2KsdvEUZedIwNtHyJo",
   "username":"Admin",
   "password":"XXXXXXXXXXXXXXXX"
}</pre>
</div>
</div>
<div class="paragraph">
<p>So I went to the <a href="http://cdup.up.pt/admin">administrator login form</a> and successfully logged in with the credentials I had just stolen. Now I had access to the backoffice of the whole website and I could manage users, edit content, etc.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://user-images.githubusercontent.com/3010353/42350573-00843f64-80a9-11e8-9b70-a8b23d565e33.png" alt="Editing an entry in the backoffice">
</div>
<div class="title">Figure 3. Editing an entry in the backoffice</div>
</div>
<div class="paragraph">
<p>The issue was reported to CDUP and was fixed quickly by removing the PHP Debug Bar.</p>
</div>
  </div><div id="disqus_thread" style="margin-top:25px"></div>
  <script>
    var disqus_config = function () {
      this.page.url = '//blog/2017/07/03/How-I-hacked-the-website-of-CDUP-the-Sports-Center-of-the-University-of-Porto.html';
      this.page.identifier = '//blog/2017/07/03/How-I-hacked-the-website-of-CDUP-the-Sports-Center-of-the-University-of-Porto.html';
    };
    (function () {
      var d = document, s = d.createElement('script');
      s.src = 'https://silva95gustavo.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
      powered by Disqus.</a></noscript></div>

    </section>
  </main><script async src="https://www.googletagmanager.com/gtag/js?id=UA-70940481-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-70940481-1');
  </script>
</body>

</html>
